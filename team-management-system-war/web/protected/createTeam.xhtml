<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:metadata>
        <f:viewParam name="courseid" value="#{createTeamController.courseid}" />
        <f:event type="preRenderView" listener="#{createTeamController.init}" />
    </f:metadata>
    <body>

        <ui:composition template="./home.xhtml">
            <ui:define name="content">
                <h:form id="form">
                    <p:growl id="msg" escape="false" />
                    <h1>Create Team for course #{createTeamController.course.name}</h1>
                    <p:panel>
                        <h:panelGrid columns="1">        
                            <h:outputText value="Team Name:"></h:outputText>
                            <h:inputText id="teamName" value="#{createTeamController.teamName}" />      
                            <p:outputLabel value="You can add students to your team from the list bellow."/>
                            <p:outputLabel value="There is up to #{createTeamController.course.teamParams.maxNumStudents - 1} more students allowed in this team."/>
                        </h:panelGrid>
                        <h:panelGrid columns="2" id="students"> 
                            <p:pickList value="#{createTeamController.studentList}" var="student" 
                                        itemLabel="#{student.user.firstName} #{student.user.lastName}" itemValue="#{student}">
                                <p:ajax event="transfer" listener="#{createTeamController.onTransfer}" update="msg"/>
                            </p:pickList>  
                        </h:panelGrid>
                        <h:panelGrid columns="1"> 
                            <p:commandButton value="Submit" type="command"  actionListener="#{createTeamController.submit}" />
                        </h:panelGrid>
                    </p:panel>
                </h:form>
            </ui:define>
        </ui:composition>

    </body>
</html>
